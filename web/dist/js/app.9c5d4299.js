(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/camera-server/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"14ba":function(t,e,a){},"2d28":function(t,e,a){},"32a8":function(t,e,a){"use strict";a("f6cd")},3862:function(t,e,a){},"4e03":function(t,e,a){"use strict";a("3862")},"526e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},s=[],o={name:"App"},i=o,c=(a("32a8"),a("0c7c")),l=Object(c["a"])(i,r,s,!1,null,null,null),u=l.exports,d=(a("45fc"),a("8c4f")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"pa-6"},[a("Header"),a("Sidebar"),a("v-main",{staticClass:"content"},[a("router-view")],1)],1)},v=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{staticClass:"main-header",attrs:{height:"64",fixed:"",color:"primary",dark:""}},[a("v-btn",{staticClass:"mx-1",attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.TOGGLE_DRAWER(e)}}},[t.DRAWER_STATE?[a("v-icon",{staticStyle:{"font-size":"28px"}},[t._v("mdi-arrow-left")])]:[a("v-icon",{staticStyle:{"font-size":"28px"}},[t._v("mdi-menu")])]],2),a("v-toolbar-title",[t._v("Camera server")]),a("v-spacer"),a("v-menu",{attrs:{"min-width":"180","offset-y":"",bottom:"",left:"","nudge-bottom":"10"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-0",attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",{staticStyle:{"font-size":"28px"},attrs:{color:t.config.light.iconColor}},[t._v("mdi-account")])],1)]}}])},[a("v-list",[a("div",{staticClass:"text-h5 grey--text text--darken-3 px-4 pt-4"},[t._v("Admin")]),a("div",{staticClass:"d-flex justify-center my-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{width:"80%",large:"",outlined:"",color:"primary"},on:{click:t.signOut}},[t._v("Sign Out")])],1)])],1)],1)},f=[],h=a("5530"),g=a("2f62"),b={light:{primary:"#536DFE",secondary:"#FF5C93",error:"#FF4081",warning:"#FFC260",success:"#3CD4A0",info:"#9013FE",textColor:"#B9B9B9",iconColor:"#FFFFFF59",grayBold:"#4a4a4a"}},y=(a("d3b7"),a("4de4"),a("7db0"),a("d4ec")),x=a("bee2"),_=a("bc3a"),w=a.n(_),k=w.a.create({baseURL:window.location.protocol+"//"+window.location.host,headers:{"Content-Type":"application/json"}}),C=function(t){return t.headers["Authorization"]=A.get(),t};k.interceptors.request.use(C);var S=function(){function t(){Object(y["a"])(this,t)}return Object(x["a"])(t,[{key:"getCameras",value:function(){return k.get("/camera").then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"getClips",value:function(t){return k.get("/clips",{params:{date:t.date.replaceAll("-",""),camera:t.camera,category:t.category}}).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"addCamera",value:function(t){return k.post("/camera",t).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"signIn",value:function(t,e){return k.post("/auth/signin",{username:t,password:e}).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"signUp",value:function(t,e){return k.post("/auth/signup",{username:t,password:e}).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"saveOptions",value:function(t,e){return k.post("/camera/"+t,e).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"removeCamera",value:function(t){return k.delete("/camera/"+t).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"isNew",value:function(){return k.get("/auth/is-new").then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"discovery",value:function(){return k.get("/discovery").then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"settings",value:function(){return k.get("/settings").then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"saveSettings",value:function(t){return k.post("/settings",t).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}},{key:"homekit",value:function(){return k.get("/camera/homekit").then((function(t){return Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}))}}]),t}(),P=new S,V=P;n["a"].use(g["a"]);var O=new g["a"].Store({namespace:!0,state:{drawer:!0,authToken:null,cameras:[]},mutations:{toggleDrawer:function(t){t.drawer=!t.drawer},setCameras:function(t,e){t.cameras=e},addCamera:function(t,e){t.cameras.push(e[0])},removeCamera:function(t,e){t.cameras=t.cameras.filter((function(t){return t.id!=e}))},setAuthToken:function(t,e){t.authToken=e}},actions:{TOGGLE_DRAWER:function(t){var e=t.commit;e("toggleDrawer")}},getters:{DRAWER_STATE:function(t){return t.drawer},getCamera:function(t){return function(e){return t.cameras.find((function(t){return t.id===e}))}},getCameras:function(t){return t.cameras},getAuthToken:function(t){return t.authToken}}});O.watch((function(t){return t.authToken}),(function(t){""!=t&&V.getCameras().then((function(t){O.commit("setCameras",t.results)}))}));var j=O,E={remove:function(){window.localStorage.removeItem("authToken"),j.commit("setAuthToken","")},set:function(t){window.localStorage.setItem("authToken",t),j.commit("setAuthToken",t)},isExist:function(){return null!=window.localStorage.getItem("authToken")},get:function(){return window.localStorage.getItem("authToken")}};j.commit("setAuthToken",E.get());var A=E,T={signIn:function(t,e){return V.signIn(t,e).then((function(t){return t.success&&A.set(t.results[0]),Promise.resolve(t)})).catch((function(t){return Promise.reject(t)}))},signUp:function(t,e){return V.signUp(t,e).then((function(t){return t.success&&A.set(t.results[0]),Promise.resolve(t)})).catch((function(t){return Promise.reject(t)}))},signOut:function(){A.remove()},isAuthenticated:function(){return A.isExist()}},$=T,R={name:"Header",data:function(){return{config:b}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])(["drawer"])),{},{DRAWER_STATE:{get:function(){return this.drawer}}}),methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])(["TOGGLE_DRAWER"])),{},{signOut:function(){$.signOut(),this.$router.push("/login")}})},D=R,F=(a("6dd0"),a("6544")),I=a.n(F),L=a("40dc"),z=a("8336"),M=a("132d"),W=a("8860"),B=a("e449"),q=a("2fa4"),G=a("2a7f"),N=Object(c["a"])(D,p,f,!1,null,null,null),U=N.exports;I()(N,{VAppBar:L["a"],VBtn:z["a"],VIcon:M["a"],VList:W["a"],VMenu:B["a"],VSpacer:q["a"],VToolbarTitle:G["a"]});var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{class:{"drawer-mini":!t.DRAWER_STATE},attrs:{app:"",clipped:"","mini-variant":!t.DRAWER_STATE,width:t.sidebarWidth,permanent:t.$vuetify.breakpoint.mdAndUp,temporary:t.$vuetify.breakpoint.smAndDown,"mini-variant-width":t.sidebarMinWidth},model:{value:t.DRAWER_STATE,callback:function(e){t.DRAWER_STATE=e},expression:"DRAWER_STATE"}},[a("v-list",[t._l(t.items,(function(e,n){return[e.heading?a("v-row",{key:e.heading,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("span",{staticClass:"text-body-1 subheader",class:e.heading&&t.DRAWER_STATE?"show ":"hide",staticStyle:{"padding-left":"32px"}},[t._v(" "+t._s(e.heading)+" ")])]),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}})],1):e.divider?a("v-divider",{key:n,staticClass:"my-4",attrs:{dark:""}}):e.children&&t.DRAWER_STATE?a("v-list-group",{key:e.title,attrs:{color:"primary","append-icon":""},scopedSlots:t._u([{key:"prependIcon",fn:function(){return[a("v-icon",{attrs:{size:"28"}},[t._v(t._s(e.icon))])]},proxy:!0},{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[t._v(" "+t._s(e.title)+" ")])],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},t._l(e.children,(function(e,n){return a("v-list-item",{key:n,attrs:{to:e.link,link:""}},[e.icon?a("v-list-item-action",[a("v-icon",{attrs:{size:""}},[t._v(t._s(e.icon))])],1):t._e(),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[t._v(" "+t._s(e.title)+" ")])],1)],1)})),1):a("v-list-item",{key:e.text,attrs:{color:"primary",to:"#"===e.link?null:e.link,link:""}},[a("v-list-item-action",[a("v-icon",{attrs:{size:"28",color:e.color?e.color:""}},[t._v(" "+t._s(e.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text",attrs:{link:""}},[t._v(" "+t._s(e.title)+" ")])],1)],1)]}))],2)],1)},Q=[],J=(a("4160"),a("a434"),a("b0c0"),a("159b"),{props:{source:String},data:function(){return{items:[{title:"Dashboard",icon:"mdi-home",link:"/dashboard"},{title:"Clips",icon:"mdi-play",link:"/clips"},{title:"Settings",icon:"mdi-cog",link:"/settings"},{divider:!0},{heading:"CAMERAS"}],sidebarWidth:240,sidebarMinWidth:96}},watch:{cameras:function(){this.generateMenu()}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])(["drawer","cameras"])),{},{DRAWER_STATE:{get:function(){return this.drawer},set:function(t){t!==this.drawer&&this.TOGGLE_DRAWER()}}}),methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])(["TOGGLE_DRAWER"])),{},{generateMenu:function(){var t=this;this.items.splice(5),this.cameras.forEach((function(e){t.items.push({title:e.name,icon:"mdi-cctv",link:"/camera/"+e.id})})),this.items.push({title:"Add",icon:"mdi-plus-circle",link:"/setup"})}})}),K=J,X=(a("8fe7"),a("62ad")),Y=a("ce7e"),Z=a("56b0"),tt=a("da13"),et=a("1800"),at=a("5d23"),nt=a("f774"),rt=a("0fd9"),st=Object(c["a"])(K,H,Q,!1,null,null,null),ot=st.exports;I()(st,{VCol:X["a"],VDivider:Y["a"],VIcon:M["a"],VList:W["a"],VListGroup:Z["a"],VListItem:tt["a"],VListItemAction:et["a"],VListItemContent:at["a"],VListItemTitle:at["b"],VNavigationDrawer:nt["a"],VRow:rt["a"]});var it={name:"Layout",components:{Header:U,Sidebar:ot}},ct=it,lt=(a("6adb"),a("7496")),ut=a("f6c4"),dt=Object(c["a"])(ct,m,v,!1,null,null,null),mt=dt.exports;I()(dt,{VApp:lt["a"],VMain:ut["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Page",{ref:"dashboardPage",attrs:{title:"Dashboard"},scopedSlots:t._u([{key:"loading",fn:function(){return t._l(4,(function(t){return a("v-col",{key:t,attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"card"}})],1)],1)}))},proxy:!0},{key:"data",fn:function(){return t._l(t.cameras,(function(e){return a("v-col",{key:e.id,attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-card-title",{staticClass:"pa-6 pb-3"},[a("p",[t._v(" "+t._s(e.name))]),a("v-spacer")],1),a("v-card-text",{staticClass:"pa-6 pt-0"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-img",{attrs:{src:e.snapshot_url}})],1)],1)],1)],1)],1)}))},proxy:!0}])})},pt=[],ft={data:function(){return{categoryIcons:{person:"ðŸš¶ðŸ»â€â™‚ï¸",car:"ðŸš—",bus:"ðŸšŒ ",truck:"ðŸšš",motorcycle:"ðŸ",bicycle:"ðŸš² "}}},methods:{getCategories:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[{text:"Person",value:"person"},{text:"Car",value:"car"},{text:"Bus",value:"bus"},{text:"Truck",value:"truck"},{text:"Motorcycle",value:"motorcycle"},{text:"Bicycle",value:"bicycle"}];return t&&e.unshift({text:"All categories",value:""}),e},page:function(t){return this.$refs[t]?this.$refs[t]:{dataOrEmpty:function(){},data:function(){},empty:function(){},error:function(){}}}}},ht=ft,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"d-flex justify-space-between mt-10 mb-6",attrs:{"no-gutters":""}},[a("h1",{staticClass:"page-title"},[t._v(t._s(t.title))]),t._t("buttons")],2),t._t("toolbar"),"error"==t.dataState?a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("ErrorState",{attrs:{errorMessage:t.errorMessage}})],1)],1):t._e(),"empty"==t.dataState?a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("EmptyState",{attrs:{emptyMessage:t.emptyMessage}})],1)],1):t._e(),"loading"==t.dataState?a("v-row",[t._t("loading")],2):t._e(),"data"==t.dataState?a("v-row",[t._t("data")],2):t._e()],2)},bt=[],yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-empty-state"},[a("div",{staticClass:"md-empty-state-container"},[a("v-icon",{attrs:{color:"red",size:"160"}},[t._v(t._s(t.mdIcon))]),t.mdLabel?a("strong",{staticClass:"md-empty-state-label"},[t._v(t._s(t.mdLabel))]):t._e(),t.errorMessage?a("p",{staticClass:"md-empty-state-description"},[t._v(t._s(t.errorMessage))]):t._e(),t._t("default")],2)])},xt=[],_t={name:"ErrorState",props:["errorMessage"],data:function(){return{mdIcon:"mdi-alert-circle-outline",mdLabel:"Oops, something went wrong"}}},wt=_t,kt=(a("adb3"),Object(c["a"])(wt,yt,xt,!1,null,null,null)),Ct=kt.exports;I()(kt,{VIcon:M["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-empty-state"},[a("div",{staticClass:"md-empty-state-container"},[a("v-icon",{attrs:{size:"160"}},[t._v(t._s(t.mdIcon))]),t.mdLabel?a("strong",{staticClass:"md-empty-state-label"},[t._v(t._s(t.mdLabel))]):t._e(),t.emptyMessage?a("p",{staticClass:"md-empty-state-description"},[t._v(t._s(t.emptyMessage))]):t._e(),t._t("default")],2)])},Pt=[],Vt={name:"EmptyState",props:["emptyMessage"],data:function(){return{mdIcon:"mdi-flask-empty-outline",mdLabel:"Nothing to display"}}},Ot=Vt,jt=(a("a4b1"),Object(c["a"])(Ot,St,Pt,!1,null,null,null)),Et=jt.exports;I()(jt,{VIcon:M["a"]});var At={name:"Page",components:{ErrorState:Ct,EmptyState:Et},props:["title"],data:function(){return{errorMessage:"",emptyMessage:"",dataState:"loading"}},methods:{error:function(t){this.dataState="error",this.errorMessage=t||""},empty:function(t){this.dataState="empty",this.emptyMessage=t||""},data:function(){this.dataState="data"},dataOrEmpty:function(t){t>0?this.data():this.empty("")}}},Tt=At,$t=(a("4e03"),a("a523")),Rt=Object(c["a"])(Tt,gt,bt,!1,null,null,null),Dt=Rt.exports;I()(Rt,{VCol:X["a"],VContainer:$t["a"],VRow:rt["a"]});var Ft={name:"Dashboard",mixins:[ht],components:{Page:Dt},watch:{cameras:function(){this.page("dashboardPage").dataOrEmpty(this.cameras.length)}},computed:Object(h["a"])({},Object(g["e"])(["cameras"])),methods:{},mounted:function(){this.cameras&&this.page("dashboardPage").dataOrEmpty(this.cameras.length)}},It=Ft,Lt=a("b0af"),zt=a("99d9"),Mt=a("adda"),Wt=a("3129"),Bt=Object(c["a"])(It,vt,pt,!1,null,null,null),qt=Bt.exports;I()(Bt,{VCard:Lt["a"],VCardText:zt["b"],VCardTitle:zt["c"],VCol:X["a"],VImg:Mt["a"],VRow:rt["a"],VSkeletonLoader:Wt["a"],VSpacer:q["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{attrs:{fluid:""}},[a("v-row",{directives:[{name:"show",rawName:"v-show",value:"loading"==t.authState,expression:"authState == 'loading'"}],attrs:{"no-gutters":""}},[a("v-col",{staticClass:"main-part d-none d-md-none d-lg-flex",attrs:{cols:"12"}},[a("div",{staticClass:"d-flex"},[a("p",[t._v("Camera server")])])])],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:"loading"!=t.authState,expression:"authState != 'loading'"}],attrs:{"no-gutters":""}},[a("v-col",{staticClass:"main-part d-none d-md-none d-lg-flex",attrs:{cols:"7"}},[a("div",{staticClass:"d-flex"},[a("p",[t._v("Camera server")])])]),a("v-col",{staticClass:"login-part d-flex align-center justify-center",attrs:{cols:"12",lg:"5"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"login-part d-flex align-center justify-center flex-column",attrs:{cols:"12"}},[a("div",{staticClass:"login-wrapper"},[a("v-form",[a("v-container",[a("v-row",{staticClass:"flex-column"},[a("v-col",[a("p",{staticClass:"login-slogan display-2 text-center font-weight-medium my-10"},[t._v(t._s(t.welcomeText))])]),a("v-form",[a("v-col",[a("v-text-field",{attrs:{rules:t.emailRules,label:"Email Address",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",label:"Password",required:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;!t.buttonDisabled&&t.authorize()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{staticClass:"d-flex justify-space-between"},[a("v-btn",{staticClass:"text-capitalize",attrs:{large:"",disabled:t.buttonDisabled,color:"primary"},on:{click:t.authorize}},[t._v(" "+t._s(t.buttonText))])],1)],1)],1)],1)],1)],1)])],1)],1)],1)],1)],1)},Nt=[],Ut={name:"Login",data:function(){return{authState:"loading",email:"",password:"",requesting:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],buttonText:"",welcomeText:""}},computed:{buttonDisabled:function(){return 0===this.password.length||0===this.email.length||this.requesting}},methods:{authorize:function(){this.requesting=!0,"signup"==this.authState?this.signUp():this.signIn()},signIn:function(){var t=this;$.signIn(this.email,this.password).then((function(e){e.success?t.$router.push("/dashboard"):(t.$toast.error("Failed to sign in: incorrect email or password"),t.requesting=!1)})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to sign in: "+a),t.requesting=!1}))},signUp:function(){var t=this;$.signUp(this.email,this.password).then((function(e){e.success?t.$router.push("/dashboard"):(t.$toast.error("Failed to sign up: account is already created. Please sign in."),t.requesting=!1)})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to sign up: "+a),t.requesting=!1}))}},created:function(){var t=this;V.isNew().then((function(e){e.success?(t.authState="signup",t.welcomeText="Please create account",t.buttonText="Sign up"):(t.authState="signin",t.welcomeText="Please sign in",t.buttonText="Sign in")})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to get account info: "+a)})),$.isAuthenticated()&&this.$router.push("/dashboard")}},Ht=Ut,Qt=(a("7f41"),a("4bd4")),Jt=a("8654"),Kt=Object(c["a"])(Ht,Gt,Nt,!1,null,null,null),Xt=Kt.exports;I()(Kt,{VApp:lt["a"],VBtn:z["a"],VCol:X["a"],VContainer:$t["a"],VForm:Qt["a"],VRow:rt["a"],VTextField:Jt["a"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Page",{ref:"cameraPage",attrs:{title:t.title},scopedSlots:t._u([{key:"buttons",fn:function(){return[a("div",[a("v-dialog",{attrs:{persistent:"",width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"text-capitalize mr-3",attrs:{color:"secondary",disabled:null==t.camera}},"v-btn",r,!1),n),[t._v("Remove camera")])]}}]),model:{value:t.removeDialog,callback:function(e){t.removeDialog=e},expression:"removeDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Please confirm ")]),a("v-card-text",[t._v(" Are you sure to remove camera? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.removeDialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.remove()}}},[t._v(" Remove ")])],1)],1)],1),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary",disabled:null==t.camera},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)]},proxy:!0},{key:"loading",fn:function(){return[a("v-col",{attrs:{cols:"8"}},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"image"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"text@5"}})],1)]},proxy:!0},{key:"data",fn:function(){return[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-card-text",[a("v-tabs",[a("v-tab",{attrs:{href:"#options"}},[t._v("Detection options")]),a("v-tab-item",{attrs:{value:"options"}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("div",{staticClass:"img-overlay-wrap"},[a("img",{attrs:{src:t.camera.snapshot_url,width:t.camera.meta.width,height:t.camera.meta.height}}),a("svg",{staticClass:"container_svg",attrs:{viewBox:t.viewBox}})])]),a("v-col",{attrs:{cols:"4"}},[a("v-row",[a("v-col",[a("v-btn",{staticClass:"text-capitalize mr-2",attrs:{color:"secondary",disabled:!t.enableClear},on:{click:function(e){return t.clear()}}},[t._v("Clear zone")])],1)],1),a("v-row",[a("v-col",[a("v-checkbox",{attrs:{label:"Enable detection"},model:{value:t.camera.detection.enabled,callback:function(e){t.$set(t.camera.detection,"enabled",e)},expression:"camera.detection.enabled"}})],1)],1),a("v-row",[a("v-col",[a("v-select",{attrs:{items:t.getCategories(!1),multiple:"",chips:"",clearable:"","deletable-chips":"",placeholder:"All categories included",label:"Categories"},model:{value:t.camera.detection.valid_categories,callback:function(e){t.$set(t.camera.detection,"valid_categories",e)},expression:"camera.detection.valid_categories"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0}])})},Zt=[],te=(a("d81d"),a("ac1f"),a("1276"),a("5698")),ee=function(){function t(e){var a=this;Object(y["a"])(this,t),this.color="",this.camera=e,this.scaleFactor=1,this.hasPolygon=!1,this.dragging=!1,this.drawing=!1,this.startPoint=null,this.svg=te["c"](".container_svg"),this.points=[],this.nodeRadius=10,this.g=null,this.dragger=te["a"]().on("drag",this.handleDrag).on("end",(function(){this.dragging=!1})),this.svg.on("mouseup",(function(t){if(!a.dragging&&!a.hasPolygon){a.drawing=!0;var e=[te["b"](t)[0],te["b"](t)[1]];t.target.hasAttribute("is-handle")?a.closePolygon():a.drawLine(e)}})),this.svg.on("mousemove",(function(t){if(a.drawing){var e=a.svg.select("g.drawPoly");e.select("line").remove(),e.append("line").attr("x1",a.startPoint[0]).attr("y1",a.startPoint[1]).attr("x2",te["b"](t)[0]+2).attr("y2",te["b"](t)[1]).attr("stroke","#53DBF3").attr("stroke-width",1)}})),this.clearPoligon(),this.camera.detection.zone.length>0&&this.drawPoints(this.toScaledPoints(this.camera.detection.zone))}return Object(x["a"])(t,[{key:"closePolygon",value:function(){this.svg.select("g.drawPoly").remove();var t=this.svg.append("g");t.append("polygon").attr("points",this.points).style("fill",this.color).style("fill-opacity",.4);for(var e=0;e<this.points.length;e++)t.selectAll("circles").data([this.points[e]]).enter().append("circle").attr("cx",this.points[e][0]).attr("cy",this.points[e][1]).attr("r",this.nodeRadius).attr("fill","#FDBC07").attr("stroke","#000").attr("is-handle","true").style({cursor:"move"});this.dragger(t.selectAll("circle")),this.points.splice(0),this.drawing=!1,this.hasPolygon=!0}},{key:"handleDrag",value:function(t){if(!this.drawing){var e=[];this.dragging=!0,te["c"](this).attr("cx",t.x).attr("cy",t.y),te["c"](this.parentNode).selectAll("circle").each((function(){var t=te["c"](this);e.push([t.attr("cx"),t.attr("cy")])})),te["c"](this.parentNode).select("polygon").attr("points",e)}}},{key:"clearPoligon",value:function(){this.svg.select("g").remove(),this.hasPolygon=!1}},{key:"drawLine",value:function(t){this.startPoint=t,this.svg.select("g.drawPoly").empty()&&(this.g=this.svg.append("g").attr("class","drawPoly")),this.points.push(t),this.g.select("polyline").remove(),this.g.append("polyline").attr("points",this.points).style("fill","none").attr("stroke","#000");for(var e=0;e<this.points.length;e++)this.g.append("circle").attr("cx",this.points[e][0]).attr("cy",this.points[e][1]).attr("r",this.nodeRadius).attr("fill","yellow").attr("stroke","#000").attr("is-handle","true").style({cursor:"pointer"})}},{key:"getPoints",value:function(){return this.hasPolygon?this.svg.select("g polygon").attr("points").split(",").map((function(t){return parseInt(t)})):[]}},{key:"toAbsolutePoints",value:function(t){var e=this;return t.map((function(t){return t*e.scaleFactor}))}},{key:"toScaledPoints",value:function(t){var e=this;return t.map((function(t){return parseInt(t/e.scaleFactor)}))}},{key:"drawPoints",value:function(t){while(t.length>0){var e=t.shift(),a=t.shift();this.drawLine([e,a])}this.closePolygon()}},{key:"get",value:function(){return 1!=this.drawing&&this.toAbsolutePoints(this.getPoints())}}]),t}(),ae={name:"Camera",mixins:[ht],components:{Page:Dt},data:function(){return{zone:null,removeDialog:!1}},mounted:function(){this.initCamera()},watch:{camera:function(){this.initCamera()}},computed:Object(h["a"])(Object(h["a"])({},Object(g["c"])(["getCamera"])),{},{title:function(){return this.camera?this.camera.name+": settings":""},camera:function(){return this.getCamera(this.$route.params.id)||null},viewBox:function(){return"0 0 "+this.camera.meta.width+" "+this.camera.meta.height},enableClear:function(){return null!==this.zone&&0!=this.zone.get()}}),methods:Object(h["a"])(Object(h["a"])({},Object(g["d"])(["removeCamera"])),{},{initCamera:function(){var t=this;this.camera&&(this.page("cameraPage").data(),setTimeout((function(){t.zone=new ee(t.camera)}),1))},clear:function(){this.zone.clearPoligon()},remove:function(){var t=this;V.removeCamera(this.camera.id).then((function(){t.$toast.success("Camera was removed successfully"),t.removeDialog=!1,t.removeCamera(t.camera.id),t.$router.push("/dashboard")})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to remove camera: "+a),t.removeDialog=!1}))},save:function(){var t=this,e=this.zone.get();!1!==e?(this.camera.detection.zone=e,V.saveOptions(this.camera.id,this.camera.detection).then((function(){t.$toast.success("Options were saved successfully")})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to options: "+a)}))):this.$toast.error("Failed to save zone: please finish editing first")}})},ne=ae,re=(a("b3f1"),a("ac7c")),se=a("169a"),oe=a("b974"),ie=a("71a3"),ce=a("c671"),le=a("fe57"),ue=Object(c["a"])(ne,Yt,Zt,!1,null,null,null),de=ue.exports;I()(ue,{VBtn:z["a"],VCard:Lt["a"],VCardActions:zt["a"],VCardText:zt["b"],VCardTitle:zt["c"],VCheckbox:re["a"],VCol:X["a"],VDialog:se["a"],VRow:rt["a"],VSelect:oe["a"],VSkeletonLoader:Wt["a"],VSpacer:q["a"],VTab:ie["a"],VTabItem:ce["a"],VTabs:le["a"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Page",{ref:"setupPage",attrs:{title:"Camera setup"},scopedSlots:t._u([{key:"buttons",fn:function(){return[a("div",[a("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary"},on:{click:function(e){return t.show("")}}},[t._v("Add")])],1)]},proxy:!0},{key:"loading",fn:function(){return t._l(4,(function(t){return a("v-col",{key:t,attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"card"}})],1)],1)}))},proxy:!0},{key:"data",fn:function(){return t._l(t.hosts,(function(e){return a("v-col",{key:e,attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-card-title",{staticClass:"pa-6 pb-3"},[a("p",[t._v(" "+t._s(e))]),a("v-spacer")],1),a("v-card-text",{staticClass:"pa-6 pt-0"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.isAlreadySetup(e),expression:"!isAlreadySetup(host)"}],attrs:{color:"primary",dark:""},on:{click:function(a){return t.show(e)}}},[t._v(" Setup ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isAlreadySetup(e),expression:"isAlreadySetup(host)"}],attrs:{disabled:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-check")]),t._v(" Added ")],1)],1)],1)],1)],1)],1)}))},proxy:!0}])}),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Add camera")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Camera name",required:""},model:{value:t.camera.name,callback:function(e){t.$set(t.camera,"name",e)},expression:"camera.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Host",requires:""},model:{value:t.camera.host,callback:function(e){t.$set(t.camera,"host",e)},expression:"camera.host"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Username"},model:{value:t.camera.username,callback:function(e){t.$set(t.camera,"username",e)},expression:"camera.username"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.camera.password,callback:function(e){t.$set(t.camera,"password",e)},expression:"camera.password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.save()}}},[t._v(" Save ")])],1)],1)],1)],1)},ve=[],pe=(a("c975"),a("3ca3"),a("ddb0"),a("2b3d"),{name:"Setup",mixins:[ht],components:{Page:Dt},data:function(){return{hosts:[],dialog:!1,camera:{name:"",host:"",username:"",password:""}}},mounted:function(){var t=this;V.discovery().then((function(e){t.hosts=e.results,t.page("setupPage").dataOrEmpty(t.hosts.length)})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.page("setupPage").error(a)}))},methods:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(g["d"])(["setCameras","addCamera"])),Object(g["c"])(["getCameras"])),{},{show:function(t){this.camera={name:"",host:t,username:"",password:""},this.dialog=!0},save:function(){var t=this;V.addCamera(this.camera).then((function(e){t.hosts=t.hosts.filter((function(e){return e!=t.camera.host})),t.$toast.success("Camera was successfully added"),t.dialog=!1,t.addCamera(e.results)})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to add camera: "+a)}))},isAlreadySetup:function(t){var e=this.getCameras(),a=!1;return e.forEach((function(e){var n=new URL(e.manage_url),r=t;n.port||-1==t.indexOf(":")||(r=t.split(":")[0]),n.host==r&&(a=!0)})),a}})}),fe=pe,he=Object(c["a"])(fe,me,ve,!1,null,null,null),ge=he.exports;I()(he,{VBtn:z["a"],VCard:Lt["a"],VCardActions:zt["a"],VCardText:zt["b"],VCardTitle:zt["c"],VCol:X["a"],VContainer:$t["a"],VDialog:se["a"],VIcon:M["a"],VRow:rt["a"],VSkeletonLoader:Wt["a"],VSpacer:q["a"],VTextField:Jt["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Page",{ref:"clipsPage",attrs:{title:"Clips"},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-1 mb-1 pl-2 pr-2"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Select date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.filters.date,callback:function(e){t.$set(t.filters,"date",e)},expression:"filters.date"}},"v-text-field",r,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu=!1}},model:{value:t.filters.date,callback:function(e){t.$set(t.filters,"date",e)},expression:"filters.date"}})],1)],1),a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.getCategories(),label:"Categories"},model:{value:t.filters.category,callback:function(e){t.$set(t.filters,"category",e)},expression:"filters.category"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.cameras,label:"Camera"},model:{value:t.filters.camera,callback:function(e){t.$set(t.filters,"camera",e)},expression:"filters.camera"}})],1),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"loading",fn:function(){return[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-1 mb-1 pl-2 pr-2"},t._l(4,(function(t){return a("v-row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"image"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"text@3"}})],1)],1)],1)],1)})),1)],1)]},proxy:!0},{key:"data",fn:function(){return[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-1 mb-1 pl-2 pr-2"},t._l(t.clips,(function(e){return a("v-row",{key:e.timestamp},[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,s=n.attrs;return[a("v-img",t._g(t._b({attrs:{src:e.thumbnail_url}},"v-img",s,!1),r))]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[a("v-container",[a("video",{attrs:{width:"320",height:"240",controls:""}},[a("source",{attrs:{src:e.video_url,type:"video/mp4"}})])])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"3"}},[a("h3",[t._v(t._s(t.formatDate(e.timestamp)))]),a("h5",[t._v(t._s(e.camera))]),a("h5",[t._v(t._s(t.formatObjects(e.objects)))])])],1)],1)],1)})),1)],1)]},proxy:!0}])})},ye=[],xe=(a("a15b"),{name:"Clips",mixins:[ht],components:{Page:Dt},data:function(){return{clips:[],dialog:!1,menu:!1,filters:{date:(new Date).toISOString().substr(0,10),category:"",camera:""}}},mounted:function(){this.getClips()},watch:{filters:{handler:function(){this.getClips()},deep:!0}},computed:{cameras:function(){var t=this.getCameras().map((function(t){return{text:t.name,value:t.id}}));return t.unshift({text:"Any camera",value:""}),t}},methods:Object(h["a"])(Object(h["a"])({},Object(g["c"])(["getCameras"])),{},{getClips:function(){var t=this;V.getClips(this.filters).then((function(e){t.clips=e.results,t.page("clipsPage").dataOrEmpty(t.clips.length)})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.page("clipsPage").error(a)}))},formatObjects:function(t){var e=this,a=t.map((function(t){return e.categoryIcons[t]}));return a.join(" ")},formatDate:function(t){var e=new Date(1e3*t);return this.$moment(e).format("hh:mm:ss")}})}),_e=xe,we=a("2e4b"),ke=Object(c["a"])(_e,be,ye,!1,null,null,null),Ce=ke.exports;I()(ke,{VBtn:z["a"],VCard:Lt["a"],VCardActions:zt["a"],VCardText:zt["b"],VCol:X["a"],VContainer:$t["a"],VDatePicker:we["a"],VDialog:se["a"],VImg:Mt["a"],VMenu:B["a"],VRow:rt["a"],VSelect:oe["a"],VSkeletonLoader:Wt["a"],VSpacer:q["a"],VTextField:Jt["a"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Page",{ref:"settingsPage",attrs:{title:"Settings"},scopedSlots:t._u([{key:"buttons",fn:function(){return[a("div",[a("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary",disabled:!t.settings},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)]},proxy:!0},{key:"loading",fn:function(){return[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-card-text",t._l(4,(function(t){return a("div",{key:t},[a("div",{class:t>1?"mt-10":""},[a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"heading"}}),a("v-skeleton-loader",{staticClass:"mx-auto pa-3",attrs:{type:"text@4"}})],1)])})),0)],1)],1)]},proxy:!0},{key:"data",fn:function(){return[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-1 mb-1"},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6"}},t._l(t.settings,(function(e,n){return a("div",{key:e.name},["header"==e.type?a("v-row",[a("v-col",[a("h3",{class:n>0?"mt-10":""},[t._v(t._s(e.title))])])],1):t._e(),"checkbox"==e.type?a("v-row",[a("v-col",[a("v-checkbox",{attrs:{label:e.title},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"option.value"}})],1)],1):t._e(),"select"==e.type?a("v-row",[a("v-col",[a("v-select",{attrs:{items:e.items,label:e.title},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"option.value"}})],1)],1):t._e(),"input"==e.type?a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:e.title,"hide-details":"auto"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"option.value"}})],1)],1):t._e()],1)})),0),t.homekit?a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[a("VueQrcode",{attrs:{value:t.homekit.xhm_uri,options:{width:400}}}),a("p",[t._v(" Scan QR code to add Camera Bridge to your Apple Home or enter pincode manually: ")]),a("h4",[t._v(t._s(t.homekit.pincode))])],1):t._e()],1)],1)],1)],1)]},proxy:!0}])})},Pe=[],Ve=a("b2e5"),Oe=a.n(Ve),je={name:"Settings",mixins:[ht],components:{Page:Dt,VueQrcode:Oe.a},data:function(){return{settings:null,homekit:null}},mounted:function(){var t=this;V.settings().then((function(e){t.settings=e.results,t.page("settingsPage").dataOrEmpty(t.settings.length)})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.page("settingsPage").error(a)})),V.homekit().then((function(e){t.homekit=e.results[0]})).catch((function(t){var e=t.response&&t.response.data?t.response.data.message:t;console.log(e)}))},methods:{save:function(){var t=this,e=this.settings.filter((function(t){return!!t.name})).map((function(t){return{name:t.name,value:t.value}}));V.saveSettings(e).then((function(){t.$toast.success("Settings were successfully updated")})).catch((function(e){var a=e.response&&e.response.data?e.response.data.message:e;t.$toast.error("Failed to update settings: "+a)}))}}},Ee=je,Ae=Object(c["a"])(Ee,Se,Pe,!1,null,null,null),Te=Ae.exports;I()(Ae,{VBtn:z["a"],VCard:Lt["a"],VCardText:zt["b"],VCheckbox:re["a"],VCol:X["a"],VRow:rt["a"],VSelect:oe["a"],VSkeletonLoader:Wt["a"],VTextField:Jt["a"]}),n["a"].use(d["a"]);var $e=new d["a"]({routes:[{path:"/login",name:"Login",component:Xt,meta:{public:!0}},{path:"/",redirect:"login",name:"Layout",component:mt,children:[{path:"dashboard",name:"Dashboard",component:qt},{path:"camera/:id",name:"Camera",component:de},{path:"setup",name:"Setup",component:ge},{path:"clips",name:"Clips",component:Ce},{path:"settings",name:"Settings",component:Te}]},{path:"*",name:"Error",component:Error}]});$e.beforeEach((function(t,e,a){var n=t.matched.some((function(t){return t.meta.public})),r=$.isAuthenticated();return n||r?r&&n?a("/"):void a():a({path:"/login"})}));var Re=$e,De=a("f309");a("7f10");n["a"].use(De["a"]);var Fe=new De["a"]({theme:{themes:{light:b.light}}}),Ie=a("6c42");a("da96");n["a"].use(Ie["a"]),n["a"].use(a("2ead")),new n["a"]({vuetify:Fe,router:Re,render:function(t){return t(u)},store:j}).$mount("#app")},"6adb":function(t,e,a){"use strict";a("d8a8")},"6dd0":function(t,e,a){"use strict";a("6e45")},"6e45":function(t,e,a){},"7f41":function(t,e,a){"use strict";a("db63")},"8fe7":function(t,e,a){"use strict";a("2d28")},a4b1:function(t,e,a){"use strict";a("14ba")},adb3:function(t,e,a){"use strict";a("d8bb")},b3f1:function(t,e,a){"use strict";a("526e")},d8a8:function(t,e,a){},d8bb:function(t,e,a){},db63:function(t,e,a){},f6cd:function(t,e,a){}});
//# sourceMappingURL=app.9c5d4299.js.map